%YAML 1.1
---

project: massive-analysis
rules:
    topics:
      description: Displays available topics
      name: Available topics

      query: >-
        return
          'topicNames': <topics/name>,
          'publishers': <nodes/publishers/topic_name>,
          'subscribers': <nodes/subscribers/topic_name>

      scope: configuration
      tags:
          - ros-comm
          - custom-filter-tag

    match_topics:
        description: All subscribd topics must be advertised as well
        name: Used topics must be defined

        query: >-
          for use in <nodes/subscribers/topic_name>
          where use not in <nodes/publishers/topic_name>
          return use

        scope: configuration
        tags:
            - ros-comm
            - custom-filter-tag

    advertise_info:
        description: Information about calls to advertise
        name: Advertise info

        query: >-
          for def in <nodes/publishers>
          where def.topic_name in <nodes/subscribers/topic_name>
          return
            def.source_location, def.topic.name, def.topic_name

        scope: configuration
        tags:
            - ros-comm
            - custom-filter-tag
